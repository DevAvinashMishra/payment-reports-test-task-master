{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","names":["drawChart","element","data","total","boxSize","d3","select","remove","svg","append","attr","arcGenerator","arc","padAngle","innerRadius","outerRadius","pieGenerator","pie","startAngle","Math","PI","value","d","arcs","selectAll","enter","style","i","length","transition","duration","attrTween","interpolate","endAngle","t","text","centroid","x","y","exports"],"sources":["/home/user/React Projects/payment-reports-test-task-master-updated/payment-reports-test-task-master/src/components/DonutChart/drawChart.ts"],"sourcesContent":["import * as d3 from \"d3\";\nimport { totalDonutValue, calculatePercentage } from \"util/helper\";\nimport { TGenericDataType, GenericTableData } from \"types\";\nimport { colors } from \"util/constants\";\nimport { DType, DataType } from \"./types\";\n\nconst drawChart = (element: string, data: GenericTableData[]) => {\n  const total = totalDonutValue(data);\n  const boxSize = 500;\n\n  d3.select(element).select(\"svg\").remove();\n  const svg = d3\n    .select(element)\n    .append(\"svg\")\n    .attr(\"preserveAspectRatio\", \"xMidYMid meet\")\n    .attr(\"height\", \"100%\")\n    .attr(\"width\", \"100%\")\n    .attr(\"viewBox\", `0 0 ${boxSize} ${boxSize}`)\n    .append(\"g\")\n    .attr(\"transform\", `translate(${boxSize / 2}, ${boxSize / 2})`);\n\n  const arcGenerator: TGenericDataType = d3\n    .arc()\n    .padAngle(0.02)\n    .innerRadius(100)\n    .outerRadius(250);\n\n  const pieGenerator = d3\n    .pie()\n    .startAngle(-0.75 * Math.PI)\n    .value((d: TGenericDataType) => d.value);\n\n  const arcs = svg\n    .selectAll()\n    .data(pieGenerator(data as unknown as DataType))\n    .enter();\n  arcs\n    .append(\"path\")\n    .attr(\"d\", arcGenerator)\n    .style(\"fill\", (d, i) => colors[i % data.length])\n    .transition()\n    .duration(700)\n    .attrTween(\"d\", function (d: DType) {\n      const i = d3.interpolate(d.startAngle, d.endAngle);\n      return function (t) {\n        d.endAngle = i(t);\n        return arcGenerator(d);\n      };\n    });\n\n  arcs\n    .append(\"text\")\n    .attr(\"text-anchor\", \"middle\")\n    .text(\n      (d: TGenericDataType) => `${calculatePercentage(total, d.data.value)}%`\n    ) // label text\n    .style(\"fill\", \"#fff\") // label color\n    .style(\"font-size\", \"30px\") // label size\n    .attr(\"transform\", (d) => {\n      const [x, y] = arcGenerator.centroid(d);\n      return `translate(${x}, ${y})`;\n    })\n    .style(\"font-size\", 0)\n    .transition()\n    .duration(700)\n    .style(\"font-size\", \"26px\");\n\n  // Add inner border\n  svg\n    .append(\"circle\")\n    .attr(\"cx\", 0)\n    .attr(\"cy\", 0)\n    .attr(\"r\", 100) // should be same as innerRadius value\n    .attr(\"fill\", \"transparent\")\n    .transition()\n    .duration(700)\n    .attr(\"stroke-width\", 8);\n};\n\nexport default drawChart;\n"]}